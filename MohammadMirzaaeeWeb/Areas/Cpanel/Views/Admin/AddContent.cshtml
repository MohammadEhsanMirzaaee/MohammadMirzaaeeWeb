<!-- This View uses your Model -->
@*@model _1_Repository.Building*@
@model MohammadMirzaaeeWeb.Models.BuildingViewModel
@{
    ViewBag.Title = "AddCategory";
}
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Add Content</title>
    <script src="~/Scripts/uploadify/jquery.uploadify.min.js"></script>
    <script src="~/scripts/tinymce/tinymce.min.js"></script>
    <link href="~/Scripts/uploadify/uploadify.css" rel="stylesheet" />
    <script type="text/javascript">
        tinymce.init({
            selector: '#Building_Content',
            height: 500,
            theme: 'modern',
            plugins: 'print preview fullpage powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists textcolor wordcount tinymcespellchecker a11ychecker imagetools mediaembed  linkchecker contextmenu colorpicker textpattern help',
            toolbar1: 'formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
            image_advtab: true,
            templates: [
                { title: 'Test template 1', content: 'Test 1' },
                { title: 'Test template 2', content: 'Test 2' }
            ],
        });
        $(function () {

        $('#file_upload').uploadify({

            'swf': '/Scripts/Uploadify/uploadify.swf',
            'uploader': "@Url.Action("UploadContentImage", "Admin")",
            'cancelImg': "@Url.Content("/Scripts/Uploadify/uploadify-cancel.png")",
            'fileSizeLimit': '100MB', // Add Kb, MB, GB
            'buttonText': 'Insert Images...', //Text for button
            'queueSizeLimit': 100, // Max number of files allowed
            'fileTypeDesc': 'Image Files',
            'fileTypeExts': '*.gif; *.jpg; *.png', // File type allowed
            'onUploadSuccess' : function(file, data, response) {
             tinyMCE.activeEditor.execCommand("mceInsertContent", true, "<img src='" + data + "' alt='Uploaded Image' class='img-responsive' />");
            }

        })

    }
);
    </script>
    <script type="text/javascript">
    </script>

</head>
<body>
    <!-- This will automatically post to your Index method (that is decorated with a HttpPost attribute) -->
    @using (Html.BeginForm("AddContent", "Admin", FormMethod.Post,
                          new { enctype = "multipart/form-data" }))
    {
        <div>
            @Html.LabelFor(m => m.Building.Name)
            @Html.TextBoxFor(m => m.Building.Name)
            <br />
            <div class="form-group">
                @Html.LabelFor(model => model.Image, new { @class = "col-lg-2 control-label" })
                <div class="col-lg-9">
                    <input type="file" name="Img" id="file_upload" />
                </div>
            </div>
            <br />
            @Html.LabelFor(m => m.Building.Content)
            @Html.TextBoxFor(m => m.Building.Content)
            <br />
            <label for="file">:آپلود عکس اصلی</label>
            <input type="file" name="file" id="file" style="width: 100%;" />
            @*@Html.DropDownList("InventoryRefId", new SelectList(Model.InventoriesList, "InventoryId", "Name"), htmlAttributes: new { @class = "input-group-addon" })*@
            <button type="submit" class="btn btn-parkmark">افزودن</button>
        </div>
    }
</body>
</html> 